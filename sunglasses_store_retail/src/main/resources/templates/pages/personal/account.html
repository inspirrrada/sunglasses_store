<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{fragments/personal_layout}">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div layout:fragment="personal_content">
    <section class="module">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 col-sm-offset-2">
                    <h4 class="font-alt mb-0">Your account</h4>
                    <hr class="divider-w mt-10 mb-20">
                    <div role="tabpanel">
                        <ul class="nav nav-tabs font-alt" id="myTab"  role="tablist">
                            <li class="nav-item" role="presentation">
                                <a class="nav-link active" id="info-tab" data-bs-toggle="tab" type = "button" data-bs-target="#info" role="tab" aria-controls="info" aria-selected="true"><span class="icon-tools-2"></span>Personal info</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="password-tab" data-bs-toggle="tab" type = "button" data-bs-target="#password" role="tab" aria-controls="password" aria-selected="false"><span class="icon-tools-2"></span>Change password</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="address-tab" data-bs-toggle="tab" type = "button" data-bs-target="#address" role="tab" aria-controls="address" aria-selected="false"><span class="icon-tools-2"></span>Shipping address</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" id="history-tab" data-bs-toggle="tab" type = "button" data-bs-target="#history" role="tab" aria-controls="history" aria-selected="false"><span class="icon-tools-2"></span>Order history</a>
                            </li>
                            <li class="nav-item" role="presentation">
                                <a class="nav-link" onclick="document.forms['logoutForm'].submit()" style="cursor: pointer !important;"><span class="icon-tools-2"></span>Logout</a>
                            </li>
                        </ul>
                        <div class="tab-content" id="myTabContent">
                            <div class="tab-pane fade show active" id="info" role="tabpanel" aria-labelledby="info-tab">
                                <form th:action="@{'/personal/account?update=info'}" class="form-group" th:object="${personalInfo}" th:method="POST">
                                    <div class="form-block">
                                        <div class="input-block" style="display: none">
                                            <label class="label-text" for="info-id">Id</label>
                                            <input th:value="${personalInfo.getId()}" th:field="*{id}" class="form-control account-form" type="text" id="info-id" placeholder=""/>
                                        </div>
                                        <div class="input-block">
                                            <label class="label-text" for="firstName">First name</label>
                                            <input th:value="${personalInfo.getFirstName()}" th:field="*{firstName}" class="form-control account-form" type="text" id="firstName" placeholder=""/>
                                        </div>
                                        <div class="input-block">
                                            <label class="label-text" for="lastName">Last name</label>
                                            <input th:value="${personalInfo.getLastName()}" th:field="*{lastName}" class="form-control account-form" type="text" id="lastName" placeholder=""/>
                                        </div>
                                    </div>
                                    <div class="form-block">
                                        <div class="input-block">
                                            <label class="label-text" for="phone">Phone number</label>
                                            <input th:value="${personalInfo.getPhoneNumber()}" th:field="*{phoneNumber}" class="form-control account-form" type="number" id="phone" placeholder=""/>
                                        </div>
                                        <div class="input-block">
                                            <label class="label-text" for="birthDate">Birth date</label>
                                            <input th:value="${personalInfo.getBirthDay()}" th:field="*{birthDay}" class="form-control account-form" type="date" id="birthDate" placeholder=""/>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <button th:type="submit" value="Submit" class="btn btn-primary active">Save</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane" id="password" role="tabpanel" aria-labelledby="password-tab">
                                <form th:action="@{'/personal/account?update=pass'}" class="form-group" th:object="${personalPassword}" th:method="POST">
<!--                                    <label class="label-text" for="password-old">Old password</label>-->
<!--                                    <input th:field="*{passwordOldCheck}" class="form-control account-form" type="text" id="password-old" placeholder=""/>-->
<!--                                    <label class="label-text" for="password-new">New password</label>-->
<!--                                    <input th:field="*{passwordNew}" class="form-control account-form" type="text" id="password-new" placeholder=""/>-->
<!--                                    <label class="label-text" for="password-new-repeat">Repeat new password</label>-->
<!--                                    <input th:field="*{passwordNewRepeat}" class="form-control account-form" type="text" id="password-new-repeat" placeholder=""/>-->
<!--                                    <div class="form-block">-->
                                    <div class="input-block" style="display: none">
                                        <label class="label-text" for="pass-id">Id</label>
                                        <input th:value="${personalPassword.getId()}" th:field="*{id}" class="form-control account-form" type="text" id="pass-id" placeholder=""/>
                                    </div>
                                    <div class="input-block" style="display: none">
                                        <label class="label-text" for="pass-old">Old pass from db</label>
                                        <input th:value="${personalPassword.getPasswordOld()}" th:field="*{passwordOld}" class="form-control account-form" type="text" id="pass-old" placeholder=""/>
                                    </div>
                                        <div class="input-block pass">
                                            <label class="label-text" for="password-old">Old password</label>
                                            <input th:field="*{passwordOldCheck}" class="form-control account-form" type="password" id="password-old" placeholder=""/>
                                        </div>
                                        <div class="input-block pass">
                                            <label class="label-text" for="password-new">New password</label>
                                            <input th:field="*{passwordNew}" class="form-control account-form" type="password" id="password-new" placeholder=""/>
                                        </div>
                                        <div class="input-block pass">
                                            <label class="label-text" for="password-new-repeat">Repeat new password</label>
                                            <input th:field="*{passwordNewRepeat}" class="form-control account-form" type="password" id="password-new-repeat" placeholder=""/>
                                        </div>
<!--                                    </div>-->
                                    <div class="text-center">
                                        <button th:type="submit" value="Submit" class="btn btn-primary active">Save</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane" id="address" role="tabpanel" aria-labelledby="address-tab">
                                <form th:action="@{'/personal/account?update=address'}" class="form-group" th:object="${personalAddress}" th:method="POST">
                                    <div class="form-block">
                                        <div class="input-block" style="display: none">
                                            <label class="label-text" for="address-id">Id</label>
                                            <input th:value="${personalAddress.getId()}" th:field="*{id}" class="form-control account-form" type="text" id="address-id" placeholder=""/>
                                        </div>
                                        <div class="input-block">
                                            <label class="label-text" for="region">Region</label>
                                            <input th:value="${personalAddress.getRegion()}" th:field="*{region}" class="form-control account-form" type="text" id="region" placeholder=""/>
                                        </div>
                                        <div class="input-block">
                                            <label class="label-text" for="street">Street</label>
                                            <input th:value="${personalAddress.getStreet()}" th:field="*{street}" class="form-control account-form" type="text" id="street" placeholder=""/>
                                        </div>
                                    </div>
                                    <div class="form-block">
                                        <div class="input-block">
                                            <label class="label-text" for="city">City</label>
                                            <input th:value="${personalAddress.getCity()}" th:field="*{city}" class="form-control account-form" type="text" id="city" placeholder=""/>
                                        </div>
                                        <div class="input-block">
                                            <label class="label-text" for="building">Building</label>
                                            <input th:value="${personalAddress.getBuilding()}" th:field="*{building}" class="form-control account-form" type="text" id="building" placeholder=""/>
                                        </div>
                                    </div>
                                    <div class="form-block">
                                        <div class="input-block">
                                            <label class="label-text" for="zip">Zip code</label>
                                            <input th:value="${personalAddress.getZip()}" th:field="*{zip}" class="form-control account-form" type="text" id="zip" placeholder=""/>
                                        </div>
                                        <div class="input-block">
                                            <label class="label-text" for="apartment">Apartment</label>
                                            <input th:value="${personalAddress.getApartment()}" th:field="*{apartment}" class="form-control account-form" type="text" id="apartment" placeholder=""/>
                                        </div>
                                    </div>
                                    <div class="text-center">
                                        <button th:type="submit" value="Submit" class="btn btn-primary active">Save</button>
                                    </div>
                                </form>
                            </div>
                            <div class="tab-pane" id="history" role="tabpanel" aria-labelledby="history-tab">
                                <table class="table table-striped table-border checkout-table">
                                    <tbody>
                                    <tr>
                                        <th class="hidden-xs">Date</th>
                                        <th>Order #</th>
                                        <th class="hidden-xs">Total amount</th>
                                        <th>Status</th>
                                        <th>Details</th>
                                    </tr>
                                    <tr th:each="order : ${personalOrders}">
                                        <td class="hidden-xs">
                                            <p th:text="${#temporals.format(order.getCreated(), 'MM/dd/yyyy HH:mm:ss')}"></p>
                                        </td>
                                        <td>
                                            <p th:text="${order.getNumber()}"></p>
                                        </td>
                                        <td class="hidden-xs">
                                            <p th:text="${order.getTotalAmount()}"></p>
                                        </td>
                                        <td>
                                            <p th:text="${order.getStatus()}"></p>
                                        </td>
                                        <td>
                                            <a th:href="@{'/order/info/' + ${order.getId()}}" th:text="Show">Show</a>
                                        </td>
                                    </tr>
                                    <!--            <tr>-->
                                    <!--              <td class="hidden-xs"><a href="#"><img src="assets/images/shop/product-13.jpg" alt="Men’s Casual Pack"/></a></td>-->
                                    <!--              <td>-->
                                    <!--                <h5 class="product-title font-alt">Men’s Casual Pack</h5>-->
                                    <!--              </td>-->
                                    <!--              <td class="hidden-xs">-->
                                    <!--                <h5 class="product-title font-alt">£20.00</h5>-->
                                    <!--              </td>-->
                                    <!--              <td>-->
                                    <!--                <input class="form-control" type="number" name="" value="1" max="50" min="1"/>-->
                                    <!--              </td>-->
                                    <!--              <td>-->
                                    <!--                <h5 class="product-title font-alt">£20.00</h5>-->
                                    <!--              </td>-->
                                    <!--              <td class="pr-remove">-->
                                    <!--&lt;!&ndash;                <a href="#" title="Remove"><i class="fa fa-times"></i></a>&ndash;&gt;-->
                                    <!--                <input type="checkbox" title="Remove">-->
                                    <!--              </td>-->
                                    <!--            </tr>-->
                                    </tbody>
                                </table>
                            </div>
                            <div class="tab-pane" id="logout"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
</div>


</body>
</html>